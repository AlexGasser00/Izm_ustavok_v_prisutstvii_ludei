---
{}
---

### Входные переменные

people_presence – наличие людей в помещении (1 = есть люди, 0 = никого нет). Tset_people – стандартная уставка температуры при присутствии людей (°C). Tset_off – уставка температуры при отсутствии людей (°C). Tset_manual – ручная уставка температуры, установленная резидентами (°C). Override_flag – флаг ручного изменения уставки (0/1). override_timer – таймер действия ручной уставки (по умолчанию 60 минут).

### Выходные переменные

Tset_current – активная уставка температуры (°C). Override_flag – флаг ручного изменения уставки (0/1).

### Логика работы

Проверяем people_presence (есть ли люди в помещении).

Если есть люди (people_presence = 1): Если задана Tset_manual -> Tset_current = Tset_manual, Override_flag = 1, сбрасываемтаймер override_timer. Иначе -> Tset_current = Tset_people, Override_flag = 0.

Если людей нет (people_presence = 0): Если задана Tset_manual -> Tset_current = Tset_manual, Override_flag = 1, запускаем таймер override_timer = 60 мин. Иначе -> Tset_current = Tset_off, Override_flag = 0.

Поведение таймера:

Если таймер override_timer активен (т.е. люди покинули помещение, но 60 минут ещё не прошло) -> поддерживаем Tset_manual. Если за время таймера кто-то вернулся (people_presence = 1) -> оставляем Tset_manual и сбрасываем таймер. По и

### Блок-схема

[drawio:./2. Изменение уставок климатического оборудования по присутствию людей.svg::211px:101px]